---
title: 042 æ¥é›¨æ°´
order: 16
category:
    - LeetCode
tag:
    - LeetCodeé¢è¯•ç»å…¸150é¢˜
    - LeetCode042
    - å›°éš¾é¢˜
    - åŠ¨æ€è§„åˆ’
---

## ğŸš€ ç›¸å…³é“¾æ¥

[LeetCode 042 - æ¥é›¨æ°´](https://leetcode.cn/problems/trapping-rain-water/description/?envType=study-plan-v2&envId=top-interview-150)

## ğŸ“œ æè¿°

ç»™å®š `n` ä¸ªéè´Ÿæ•´æ•°è¡¨ç¤ºæ¯ä¸ªå®½åº¦ä¸º `1` çš„æŸ±å­çš„é«˜åº¦å›¾ï¼Œè®¡ç®—æŒ‰æ­¤æ’åˆ—çš„æŸ±å­ï¼Œä¸‹é›¨ä¹‹åèƒ½æ¥å¤šå°‘é›¨æ°´ã€‚

## ğŸ’¡ ç¤ºä¾‹

- **è¾“å…¥**: `height = [0,1,0,2,1,0,1,3,2,1,2,1]`
- **è¾“å‡º**: `6`
- **è§£é‡Š**: ä¸Šé¢æ˜¯ç”±æ•°ç»„ `[0,1,0,2,1,0,1,3,2,1,2,1]` è¡¨ç¤ºçš„é«˜åº¦å›¾ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥æ¥ `6` ä¸ªå•ä½çš„é›¨æ°´ï¼ˆè“è‰²éƒ¨åˆ†è¡¨ç¤ºé›¨æ°´ï¼‰ã€‚

### ç¤ºä¾‹ 2

- **è¾“å…¥**: `height = [4,2,0,3,2,5]`
- **è¾“å‡º**: `9`

## ğŸ“ æç¤º
- `n == height.length`
- `1 <= n <= 2 * 10^4`
- `0 <= height[i] <= 10^5`

## ğŸ’­ æ€è·¯

1. **åŒæŒ‡é’ˆæ³•**ï¼š
   - ä½¿ç”¨ä¸¤ä¸ªæ•°ç»„ `leftMax` å’Œ `rightMax` åˆ†åˆ«è®°å½•æ¯ä¸ªä½ç½®çš„å·¦è¾¹æœ€å¤§é«˜åº¦å’Œå³è¾¹æœ€å¤§é«˜åº¦ã€‚
   - å¯¹äºæ¯ä¸ªä½ç½®ï¼Œèƒ½æ¥çš„é›¨æ°´é‡ç­‰äº `min(leftMax[i], rightMax[i]) - height[i]`ã€‚
   - æœ€ç»ˆå°†æ‰€æœ‰ä½ç½®çš„é›¨æ°´é‡ç´¯åŠ å³ä¸ºç»“æœã€‚

## ğŸ’» ä»£ç å®ç°

```java
public int trap(int[] height) {
    int len = height.length;
    int[] leftMax = new int[height.length];
    int[] rightMax = new int[height.length];
    leftMax[0] = height[0];
    rightMax[len - 1] = height[len - 1];
    int sum = 0;
    for (int i = 1; i < len; i++) {
        leftMax[i] = Math.max(leftMax[i - 1], height[i]);
    }
    for (int i = len - 2; i >= 0; i--) {
        rightMax[i] = Math.max(rightMax[i + 1], height[i]);
    }
    for (int i = 1; i < len-1; i++) {
        sum += Math.min(leftMax[i], rightMax[i]) - height[i];
    }
    return sum;
}