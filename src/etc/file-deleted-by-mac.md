---
title: 踩坑记录 — 关于Mac云同步导致视频素材丢失的坑
categories:
	- Other
tags:
  - Mac
  - iCloud
---

# 踩坑记录

## 💦 前言

之前去日本旅游，用大疆拍摄了一百多G的视频，准备回来制作Vlog。因为存储卡空间不够，就先把视频拷贝到电脑上存储，随后格式化了大疆的SD卡，继续拍摄。

回到家后，把大疆新拍的素材也拷贝到了电脑上。电脑是Mac。

---

## 🚨 坑点

OneDrive 和 iCloud 之类的云服务，会对备份路径中的文件做标记，然后上传到云端。这个过程中，可能会删除本地文件，留下的只是一个类似快捷方式的文件。

iCloud 还有一个“云端删除”的功能，会同步删除本地被删除的文件。社区里说，这是为了多设备同步设计的，但对大文件来说，非常危险。

---

## 👏 事情经过

本人也比较懒，视频剪辑断断续续剪了半个多月。今晚12点躺床上准备继续剪视频时，软件突然报错：“媒体源丢失”。回到桌面一看，原本巨大的素材文件夹不见了？？？

询问对象，对方表示没碰过电脑。

但剪映仍旧能索引到部分素材文件，点开文件位置后，进入了一个 `xxx/File Provider/xxx/delete` 文件夹。

查资料得知，这个 `File Provider` 是 macOS 提供云同步服务的一个系统组件。

进入上述 `delete` 文件夹中的文件，变成了标记删除状态，格式也变了。趁我查资料这会儿，文件自动被清理删除了。。。

祈祷备份数据区域未被覆盖，下载了几款数据恢复软件，扫盘耗时两个多小时。

24 年的文件都能恢复，就是找不到素材文件，删除极其彻底。很多恢复出的文件都丢失了元数据，没有文件名和修改日期，完全不知所云。

---

## 可能的原因

询问对象后得知，她前几天在手机上关闭了 iCloud 的相关同步服务，可能云空间也被清理了。

而这台 Mac 登录的是她的 Apple 账号，且开启了 iCloud 同步。我的素材在不知情情况下被同步到云端（但因为文件夹太大没有完全同步成功，卡在过程中）。

随后由于云盘空间释放，云端文件被删除，导致本地文件也被连带删除。

这是目前推导出的最合理结论。

---

## 反思与总结

- 视频白拍，剪辑白剪，旅游的宝贵视频只剩下寥寥几个后期补拍的；
- 幸好没有非常生气，更多是麻了；
- 这事儿也只能怪自己没来得及备份到 NAS 服务器；
- 这种“智能”同步机制，真是坑到极点了。

以后必须养成及时且多地备份的习惯，云同步虽然方便，但有时候毁灭性的后果也很恐怖。

---

*以上是我的踩坑真事分享，希望大家能够引以为戒，尤其是大文件和重要数据，千万不要完全依赖云同步备份。*

# 后续

向Apple 支持寻求帮助，后续电话回访，详细了解我的情况后，明确告知无法恢复，卒。