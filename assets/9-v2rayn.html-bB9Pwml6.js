import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as e,a as n,o as r}from"./app-CnwXUOSJ.js";const t="/assets/images/nas/v2ray/v-1.png",o="/assets/images/nas/v2ray/v-2.png",l="/assets/images/nas/v2ray/v-3.png",p="/assets/images/nas/v2ray/v-4.png",c="/assets/images/nas/v2ray/v-5.png",i="/assets/images/nas/v2ray/v-6.png",y={};function g(d,a){return r(),e("div",null,a[0]||(a[0]=[n(`<p>V2Ray是一款<strong>强大的网络代理工具</strong>，旨在帮助用户实现<strong>科学上网</strong>，突破网络限制。它支持多种传输协议和加密方式，具有高度的灵活性和可扩展性，非常适合用于搭建个人代理服务器。而<strong>V2rayA</strong>则是一款可以通过Web访问的V2Ray管理面板。</p><h2 id="🛠️-安装-v2ray" tabindex="-1"><a class="header-anchor" href="#🛠️-安装-v2ray"><span>🛠️ 安装 V2Ray</span></a></h2><p>首先，需要在NAS宿主机上安装V2Ray，V2rayA仅仅是一款管理工具，并不包含核心的V2Ray。</p><h3 id="🔗-相关链接" tabindex="-1"><a class="header-anchor" href="#🔗-相关链接"><span>🔗 相关链接</span></a></h3><ul><li><a href="https://github.com/v2fly/v2ray-core/releases" target="_blank" rel="noopener noreferrer">Github V2ray Releases</a></li><li><a href="https://v2raya.org/docs/prologue/installation/docker/" target="_blank" rel="noopener noreferrer">V2rayA Document</a></li></ul><p>根据NAS的CPU架构选择对应的版本进行下载，可以通过网页下载并传输到指定目录，或使用<code>wget</code>命令获取。以<code>5.24.0 linux amd64</code>版本为例：</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" data-title="bash" style="background-color:#1E1E1E;color:#D4D4D4;"><pre class="shiki dark-plus vp-code"><code><span class="line"><span style="color:#DCDCAA;">wget</span><span style="color:#CE9178;"> https://github.com/v2fly/v2ray-core/releases/download/v5.24.0/v2ray-linux-64.zip</span><span style="color:#6A9955;"> # 下载文件到当前目录</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCDCAA;">sudo</span><span style="color:#CE9178;"> mkdir</span><span style="color:#569CD6;"> -p</span><span style="color:#CE9178;"> /usr/local/v2ray-core/</span><span style="color:#6A9955;"> # 创建文件夹</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCDCAA;">sudo</span><span style="color:#CE9178;"> unzip</span><span style="color:#CE9178;"> v2ray-linux-64.zip</span><span style="color:#569CD6;"> -d</span><span style="color:#CE9178;"> /usr/local/v2ray-core/</span><span style="color:#6A9955;"> # 解压文件到指定目录</span></span></code></pre></div><p>运行以下命令检查是否安装成功：</p><div class="language-bash" data-highlighter="shiki" data-ext="bash" data-title="bash" style="background-color:#1E1E1E;color:#D4D4D4;"><pre class="shiki dark-plus vp-code"><code><span class="line"><span style="color:#DCDCAA;">/usr/local/v2ray-core/v2ray</span></span></code></pre></div><p>如果安装成功，将会出现V2Ray操作命令提示。</p><h2 id="🖥️-安装-v2raya" tabindex="-1"><a class="header-anchor" href="#🖥️-安装-v2raya"><span>🖥️ 安装 V2rayA</span></a></h2><p>接下来，安装V2rayA，Docker Compose文件如下：</p><div class="language-yaml" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="background-color:#1E1E1E;color:#D4D4D4;"><pre class="shiki dark-plus vp-code"><code><span class="line"><span style="color:#569CD6;">version</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&#39;3.8&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;">services</span><span style="color:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#569CD6;">  v2raya</span><span style="color:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#569CD6;">    image</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">mzz2017/v2raya</span></span>
<span class="line"><span style="color:#569CD6;">    container_name</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">v2raya</span></span>
<span class="line"><span style="color:#569CD6;">    ports</span><span style="color:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#D4D4D4;">      - </span><span style="color:#CE9178;">&quot;2017:2017&quot;</span></span>
<span class="line"><span style="color:#D4D4D4;">      - </span><span style="color:#CE9178;">&quot;50170-50172:50170-50172&quot;</span></span>
<span class="line"><span style="color:#569CD6;">    environment</span><span style="color:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#D4D4D4;">      - </span><span style="color:#CE9178;">/usr/local/v2ray-core/v2ray=/usr/local/bin/v2ray</span></span>
<span class="line"><span style="color:#D4D4D4;">      - </span><span style="color:#CE9178;">V2RAYA_LOG_FILE=/tmp/v2raya.log</span></span>
<span class="line"><span style="color:#569CD6;">    volumes</span><span style="color:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#D4D4D4;">      - </span><span style="color:#CE9178;">/etc/v2raya:/etc/v2raya</span></span>
<span class="line"><span style="color:#569CD6;">    restart</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">always</span></span></code></pre></div><p>在此配置中，管理面板端口为<code>2017</code>，而<code>50170-50172</code>是自定义选择的代理端口范围，可以映射3个（或更多）端口用于开放不同协议的代理端口（如http、https以及socks5）。</p><p>确保刚刚安装的V2Ray (<code>/usr/local/v2ray-core/v2ray</code>) 映射到V2rayA目录下 (<code>/usr/local/bin/v2ray</code>)。</p><h3 id="🎉-部署完成后" tabindex="-1"><a class="header-anchor" href="#🎉-部署完成后"><span>🎉 部署完成后</span></a></h3><p>访问<code>http://NASIP:2017</code>，选择<strong>subscription</strong>，点击<strong>导入</strong>，输入机场的订阅地址：</p><figure><img src="`+t+'" alt="配置订阅地址" tabindex="0" loading="lazy"><figcaption>配置订阅地址</figcaption></figure><p>在V2rayA从订阅地址下载完节点信息后，界面如下：</p><figure><img src="'+o+'" alt="节点信息" tabindex="0" loading="lazy"><figcaption>节点信息</figcaption></figure><p>在操作列中，点击选择想要使用的节点（可多选），选择完成后，左上角点击<strong>启动</strong>，即可启动代理。</p><figure><img src="'+l+'" alt="选择节点并启动代理" tabindex="0" loading="lazy"><figcaption>选择节点并启动代理</figcaption></figure><p>右侧的<strong>Proxy</strong>按钮可以设置负载均衡策略，其中<code>ProbeUrl</code>用于检测节点时延，保持不变即可，目前类型仅支持最小时延优先。</p><figure><img src="'+p+'" alt="负载均衡策略设置" tabindex="0" loading="lazy"><figcaption>负载均衡策略设置</figcaption></figure><p>右上角的设置按钮中可以进行代理规则相关的设置。刚刚在Docker Compose中映射的端口为<code>50170-50172</code>，但默认代理端口并非这三个端口，需要进行修改。点击<strong>设置</strong> -&gt; <strong>地址与端口</strong>，修改各种代理协议的端口为所需的端口。</p><figure><img src="'+c+'" alt="设置界面" tabindex="0" loading="lazy"><figcaption>设置界面</figcaption></figure><figure><img src="'+i+'" alt="地址与端口界面" tabindex="0" loading="lazy"><figcaption>地址与端口界面</figcaption></figure><h3 id="⚙️-代理规则设置" tabindex="-1"><a class="header-anchor" href="#⚙️-代理规则设置"><span>⚙️ 代理规则设置</span></a></h3><p>此处规则代理，<strong>系统代理</strong>选择<strong>关闭</strong>，因为仅选择性使用代理。在需要代理时，将代理地址设置为本机的对应代理端口，不需要服务代理所有的系统请求。</p>',29)]))}const m=s(y,[["render",g]]),D=JSON.parse(`{"path":"/nas/basic/9-v2rayn.html","title":"V2ray & v2rayA代理","lang":"zh-CN","frontmatter":{"title":"V2ray & v2rayA代理","order":9,"isOriginal":true,"category":["NAS"],"tag":["v2ray","v2raya","代理","docker"],"description":"V2Ray是一款强大的网络代理工具，旨在帮助用户实现科学上网，突破网络限制。它支持多种传输协议和加密方式，具有高度的灵活性和可扩展性，非常适合用于搭建个人代理服务器。而V2rayA则是一款可以通过Web访问的V2Ray管理面板。 🛠️ 安装 V2Ray 首先，需要在NAS宿主机上安装V2Ray，V2rayA仅仅是一款管理工具，并不包含核心的V2Ray...","head":[["meta",{"property":"og:url","content":"https://jayczee.cn/nas/basic/9-v2rayn.html"}],["meta",{"property":"og:site_name","content":"Jayczee's Blog"}],["meta",{"property":"og:title","content":"V2ray & v2rayA代理"}],["meta",{"property":"og:description","content":"V2Ray是一款强大的网络代理工具，旨在帮助用户实现科学上网，突破网络限制。它支持多种传输协议和加密方式，具有高度的灵活性和可扩展性，非常适合用于搭建个人代理服务器。而V2rayA则是一款可以通过Web访问的V2Ray管理面板。 🛠️ 安装 V2Ray 首先，需要在NAS宿主机上安装V2Ray，V2rayA仅仅是一款管理工具，并不包含核心的V2Ray..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://jayczee.cn/assets/images/nas/v2ray/v-1.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-01-16T08:14:22.000Z"}],["meta",{"property":"article:tag","content":"v2ray"}],["meta",{"property":"article:tag","content":"v2raya"}],["meta",{"property":"article:tag","content":"代理"}],["meta",{"property":"article:tag","content":"docker"}],["meta",{"property":"article:modified_time","content":"2025-01-16T08:14:22.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"V2ray & v2rayA代理\\",\\"image\\":[\\"https://jayczee.cn/assets/images/nas/v2ray/v-1.png\\",\\"https://jayczee.cn/assets/images/nas/v2ray/v-2.png\\",\\"https://jayczee.cn/assets/images/nas/v2ray/v-3.png\\",\\"https://jayczee.cn/assets/images/nas/v2ray/v-4.png\\",\\"https://jayczee.cn/assets/images/nas/v2ray/v-5.png\\",\\"https://jayczee.cn/assets/images/nas/v2ray/v-6.png\\"],\\"dateModified\\":\\"2025-01-16T08:14:22.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Jayczee\\",\\"url\\":\\"https://jayczee.cn\\"}]}"]]},"headers":[{"level":2,"title":"🛠️ 安装 V2Ray","slug":"🛠️-安装-v2ray","link":"#🛠️-安装-v2ray","children":[{"level":3,"title":"🔗 相关链接","slug":"🔗-相关链接","link":"#🔗-相关链接","children":[]}]},{"level":2,"title":"🖥️ 安装 V2rayA","slug":"🖥️-安装-v2raya","link":"#🖥️-安装-v2raya","children":[{"level":3,"title":"🎉 部署完成后","slug":"🎉-部署完成后","link":"#🎉-部署完成后","children":[]},{"level":3,"title":"⚙️ 代理规则设置","slug":"⚙️-代理规则设置","link":"#⚙️-代理规则设置","children":[]}]}],"git":{"createdTime":1736491706000,"updatedTime":1737015262000,"contributors":[{"name":"Jayczee","username":"Jayczee","email":"jayczee@yeah.net","commits":5,"url":"https://github.com/Jayczee"}]},"readingTime":{"minutes":2.43,"words":730},"filePathRelative":"nas/basic/9-v2rayn.md","localizedDate":"2025年1月10日","excerpt":"<p>V2Ray是一款<strong>强大的网络代理工具</strong>，旨在帮助用户实现<strong>科学上网</strong>，突破网络限制。它支持多种传输协议和加密方式，具有高度的灵活性和可扩展性，非常适合用于搭建个人代理服务器。而<strong>V2rayA</strong>则是一款可以通过Web访问的V2Ray管理面板。</p>\\n<h2>🛠️ 安装 V2Ray</h2>\\n<p>首先，需要在NAS宿主机上安装V2Ray，V2rayA仅仅是一款管理工具，并不包含核心的V2Ray。</p>\\n<h3>🔗 相关链接</h3>\\n<ul>\\n<li><a href=\\"https://github.com/v2fly/v2ray-core/releases\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Github V2ray Releases</a></li>\\n<li><a href=\\"https://v2raya.org/docs/prologue/installation/docker/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">V2rayA Document</a></li>\\n</ul>","autoDesc":true}`);export{m as comp,D as data};
