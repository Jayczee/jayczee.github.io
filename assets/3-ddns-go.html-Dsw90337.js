import{_ as d,c as r,a,b as n,d as s,e as o,f as t,r as l,o as c}from"./app-BPSKwAMP.js";const p="/assets/images/nas/ddns-go/ddns-1.png",g="/assets/images/nas/ddns-go/ddns-2.png",h="/assets/images/nas/ddns-go/ddns-3.png",k="/assets/images/nas/ddns-go/ddns-4.png",m={};function u(b,e){const i=l("RouteLink");return c(),r("div",null,[e[8]||(e[8]=a('<h2 id="📌-ddns-go的作用" tabindex="-1"><a class="header-anchor" href="#📌-ddns-go的作用"><span>📌 DDNS-GO的作用</span></a></h2><p>此处引用官方README。<br> 中文 | <a href="https://github.com/jeessy2/ddns-go/blob/master/README_EN.md" target="_blank" rel="noopener noreferrer">English</a></p><p>自动获得你的公网 IPv4 或 IPv6 地址，并解析到对应的域名服务。</p><ul><li>支持Mac、Windows、Linux系统，支持ARM、x86架构</li><li>支持的域名服务商：<code>阿里云</code>、<code>腾讯云</code>、<code>Dnspod</code>、<code>Cloudflare</code>、<code>华为云</code>、<code>Callback</code>、<code>百度云</code>、<code>Porkbun</code>、<code>GoDaddy</code>、<code>Namecheap</code>、<code>NameSilo</code>、<code>Dynadot</code></li><li>支持接口/网卡/<a href="https://github.com/jeessy2/ddns-go/wiki/%E9%80%9A%E8%BF%87%E5%91%BD%E4%BB%A4%E8%8E%B7%E5%8F%96IP%E5%8F%82%E8%80%83" target="_blank" rel="noopener noreferrer">命令</a>获取IP</li><li>支持以服务的方式运行</li><li>默认间隔5分钟同步一次</li><li>支持同时配置多个DNS服务商</li><li>支持多个域名同时解析</li><li>支持多级域名</li><li>网页中配置，简单又方便，默认勾选<code>禁止从公网访问</code></li><li>网页中方便快速查看最近50条日志</li><li>支持Webhook通知</li><li>支持TTL</li><li>支持部分DNS服务商<a href="https://github.com/jeessy2/ddns-go/wiki/%E4%BC%A0%E9%80%92%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%82%E6%95%B0" target="_blank" rel="noopener noreferrer">传递自定义参数</a>，实现地域解析/多IP等功能</li></ul><h2 id="⚙️-前提" tabindex="-1"><a class="header-anchor" href="#⚙️-前提"><span>⚙️ 前提</span></a></h2><p>拥有一个域名，无需备案即可。</p><hr><h2 id="🚀-部署ddns-go容器" tabindex="-1"><a class="header-anchor" href="#🚀-部署ddns-go容器"><span>🚀 部署DDNS-GO容器</span></a></h2>',8)),n("p",null,[e[1]||(e[1]=s("在")),o(i,{to:"/nas/basic/2-portainer.html"},{default:t(()=>e[0]||(e[0]=[s("Portainer 容器管理")])),_:1}),e[2]||(e[2]=s("中，已完成Portainer的安装，接下来将使用已部署的Portainer容器完成ddns-go服务的安装。"))]),e[9]||(e[9]=a('<p>首先，在<a href="https://hub.docker.com" target="_blank" rel="noopener noreferrer">Docker Hub</a>中搜索<code>ddns-go</code>，找到官方镜像（通常是下载量最高的那个，但有时第三方修改过的镜像也不错）。这里直接提供地址：<a href="https://hub.docker.com/r/jeessy/ddns-go" target="_blank" rel="noopener noreferrer">jeessy/ddns-go</a>。</p><p>推荐优先查看Hub页面中作者自己写的文档，里面有详细的安装步骤与说明。虽然本文档提供了汇总和一些额外的说明，但优先参考官方文档更为妥当。</p><p>官方文档只给出了<code>docker run</code>的安装命令，此处额外提供<code>docker compose</code>的安装方式，并使用之前安装的Portainer进行管理。（若坚持使用<code>docker run</code>，可以直接在NAS上运行。）</p><h3 id="🐳-docker-run-安装" tabindex="-1"><a class="header-anchor" href="#🐳-docker-run-安装"><span>🐳 Docker run 安装</span></a></h3><p>使用以下<code>docker run</code>命令：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ddns-go</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --restart=always</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --net=host</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -v</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /opt/ddns-go:/root</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> jeessy/ddns-go</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这里挂载的<code>-v /opt/ddns-go:/root</code>是ddns-go的配置文件，它将配置文件映射到<code>/opt/ddns-go</code>下，配置文件可自行修改。</p><hr><h3 id="📦-docker-compose-安装" tabindex="-1"><a class="header-anchor" href="#📦-docker-compose-安装"><span>📦 Docker compose 安装</span></a></h3><p>访问Portainer管理面板，点击左侧的<strong>Stacks</strong>：</p><figure><img src="'+p+'" alt="Portainer Stack List" tabindex="0" loading="lazy"><figcaption>Portainer Stack List</figcaption></figure><p>点击右上角的<strong>Add Stack</strong>，来到<strong>Create Stack</strong>界面：</p><figure><img src="'+g+`" alt="Portainer Create Stack" tabindex="0" loading="lazy"><figcaption>Portainer Create Stack</figcaption></figure><p>为当前正在创建的Stack定义一个名称，例如<code>ddns-go</code>，注意首字母小写的规则。</p><p>下方的<strong>Build method</strong>选择默认的<strong>Web editor</strong>，然后在编辑器内填写以下内容：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">services:</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  ddns-go:</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    image:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> jeessy/ddns-go</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    container_name:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ddns-go</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    restart:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> always</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    network_mode:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> host</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    volumes:</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">      -</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /opt/ddns-go:/root</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>最后，保持其他选项为默认设置，点击下方的<strong>Deploy the stack</strong>进行容器部署。</p><hr><h2 id="⚙️-配置ddns-go" tabindex="-1"><a class="header-anchor" href="#⚙️-配置ddns-go"><span>⚙️ 配置DDNS-GO</span></a></h2><p>容器安装完成后，访问 <code>http://你的nasip:9876</code>，进入ddns-go的配置页面。</p><figure><img src="`+h+'" alt="DDNS-GO配置页" tabindex="0" loading="lazy"><figcaption>DDNS-GO配置页</figcaption></figure><p>选择域名服务商，通常是域名购买的地方，此处以阿里云为例。访问阿里云控制面板，点击右上角的个人头像，选择<strong>Access Key</strong>。</p><figure><img src="'+k+'" alt="点击Access Key" tabindex="0" loading="lazy"><figcaption>点击Access Key</figcaption></figure><p>在目标页面中，创建一对<strong>Access Key</strong>和<strong>Access Secret</strong>。阿里云一般会推荐创建RAM用户的AccessKey，二者皆可。获取到AccessKey和Secret后，将其填入上述表单中，TTL选择自动或10分钟（阿里云免费DNS解析一般是十分钟，若购买了付费版，则可以选择对应时间）。</p><p>最后，根据公网IP使用情况，在IPv4项或IPv6项中的<strong>Domains</strong>中添加解析记录，获取IP方式选择通过接口获取即可。如果同时拥有公网IPv4和公网IPv6，那么两个DDNS可以同时启用。</p><p>解析记录根据实际情况添加，例如想要通过<code>portainer.domain.com</code>（<code>domain.com</code>为购买的实际域名）访问已部署的Portainer，则可以在输入框中输入<code>portainer.domain.com</code>，这样就可以通过<code>portainer.domain.com:9000</code>（Portainer端口）直接访问。上游DNS服务器将直接把<code>portainer.domain.com</code>解析为公网IP。</p>',26)),n("p",null,[e[4]||(e[4]=s("不过，一个服务添加一条解析记录通常比较麻烦，因此一般直接添加一条")),e[5]||(e[5]=n("code",null,"*.domain.com",-1)),e[6]||(e[6]=s("，这样可以将域名下的任何二级域名解析到NAS上。同时配合NGINX反向代理，将不同的二级域名代理到不同服务上。")),o(i,{to:"/nas/basic/5-nginx.html"},{default:t(()=>e[3]||(e[3]=[s("相关链接：Nginx反向代理")])),_:1}),e[7]||(e[7]=s("。"))]),e[10]||(e[10]=n("p",null,[s("最后设置完后，左下角先点击"),n("strong",null,"保存"),s("，然后点击右上角的"),n("strong",null,"日志"),s("进行查看，检查是否成功添加DNS解析记录。")],-1))])}const D=d(m,[["render",u],["__file","3-ddns-go.html.vue"]]),A=JSON.parse(`{"path":"/nas/basic/3-ddns-go.html","title":"DDNS-GO 动态DNS","lang":"zh-CN","frontmatter":{"title":"DDNS-GO 动态DNS","order":3,"isOriginal":true,"category":["NAS"],"tag":["docker","ddns-go"],"description":"📌 DDNS-GO的作用 此处引用官方README。 中文 | English 自动获得你的公网 IPv4 或 IPv6 地址，并解析到对应的域名服务。 支持Mac、Windows、Linux系统，支持ARM、x86架构 支持的域名服务商：阿里云、腾讯云、Dnspod、Cloudflare、华为云、Callback、百度云、Porkbun、GoDad...","head":[["meta",{"property":"og:url","content":"https://jayczee.cn/nas/basic/3-ddns-go.html"}],["meta",{"property":"og:site_name","content":"Jayczee's Blog"}],["meta",{"property":"og:title","content":"DDNS-GO 动态DNS"}],["meta",{"property":"og:description","content":"📌 DDNS-GO的作用 此处引用官方README。 中文 | English 自动获得你的公网 IPv4 或 IPv6 地址，并解析到对应的域名服务。 支持Mac、Windows、Linux系统，支持ARM、x86架构 支持的域名服务商：阿里云、腾讯云、Dnspod、Cloudflare、华为云、Callback、百度云、Porkbun、GoDad..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://jayczee.cn/assets/images/nas/ddns-go/ddns-1.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-01-15T06:15:38.000Z"}],["meta",{"property":"article:tag","content":"docker"}],["meta",{"property":"article:tag","content":"ddns-go"}],["meta",{"property":"article:modified_time","content":"2025-01-15T06:15:38.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"DDNS-GO 动态DNS\\",\\"image\\":[\\"https://jayczee.cn/assets/images/nas/ddns-go/ddns-1.png\\",\\"https://jayczee.cn/assets/images/nas/ddns-go/ddns-2.png\\",\\"https://jayczee.cn/assets/images/nas/ddns-go/ddns-3.png\\",\\"https://jayczee.cn/assets/images/nas/ddns-go/ddns-4.png\\"],\\"dateModified\\":\\"2025-01-15T06:15:38.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Jayczee\\",\\"url\\":\\"https://jayczee.cn\\"}]}"]]},"headers":[{"level":2,"title":"📌 DDNS-GO的作用","slug":"📌-ddns-go的作用","link":"#📌-ddns-go的作用","children":[]},{"level":2,"title":"⚙️ 前提","slug":"⚙️-前提","link":"#⚙️-前提","children":[]},{"level":2,"title":"🚀 部署DDNS-GO容器","slug":"🚀-部署ddns-go容器","link":"#🚀-部署ddns-go容器","children":[{"level":3,"title":"🐳 Docker run 安装","slug":"🐳-docker-run-安装","link":"#🐳-docker-run-安装","children":[]},{"level":3,"title":"📦 Docker compose 安装","slug":"📦-docker-compose-安装","link":"#📦-docker-compose-安装","children":[]}]},{"level":2,"title":"⚙️ 配置DDNS-GO","slug":"⚙️-配置ddns-go","link":"#⚙️-配置ddns-go","children":[]}],"git":{"createdTime":1736491706000,"updatedTime":1736921738000,"contributors":[{"name":"Jayczee","username":"Jayczee","email":"jayczee@yeah.net","commits":8,"url":"https://github.com/Jayczee"}]},"readingTime":{"minutes":3.83,"words":1150},"filePathRelative":"nas/basic/3-ddns-go.md","localizedDate":"2025年1月10日","excerpt":"<h2>📌 DDNS-GO的作用</h2>\\n<p>此处引用官方README。<br>\\n中文 | <a href=\\"https://github.com/jeessy2/ddns-go/blob/master/README_EN.md\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">English</a></p>\\n<p>自动获得你的公网 IPv4 或 IPv6 地址，并解析到对应的域名服务。</p>\\n<ul>\\n<li>支持Mac、Windows、Linux系统，支持ARM、x86架构</li>\\n<li>支持的域名服务商：<code>阿里云</code>、<code>腾讯云</code>、<code>Dnspod</code>、<code>Cloudflare</code>、<code>华为云</code>、<code>Callback</code>、<code>百度云</code>、<code>Porkbun</code>、<code>GoDaddy</code>、<code>Namecheap</code>、<code>NameSilo</code>、<code>Dynadot</code></li>\\n<li>支持接口/网卡/<a href=\\"https://github.com/jeessy2/ddns-go/wiki/%E9%80%9A%E8%BF%87%E5%91%BD%E4%BB%A4%E8%8E%B7%E5%8F%96IP%E5%8F%82%E8%80%83\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">命令</a>获取IP</li>\\n<li>支持以服务的方式运行</li>\\n<li>默认间隔5分钟同步一次</li>\\n<li>支持同时配置多个DNS服务商</li>\\n<li>支持多个域名同时解析</li>\\n<li>支持多级域名</li>\\n<li>网页中配置，简单又方便，默认勾选<code>禁止从公网访问</code></li>\\n<li>网页中方便快速查看最近50条日志</li>\\n<li>支持Webhook通知</li>\\n<li>支持TTL</li>\\n<li>支持部分DNS服务商<a href=\\"https://github.com/jeessy2/ddns-go/wiki/%E4%BC%A0%E9%80%92%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%82%E6%95%B0\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">传递自定义参数</a>，实现地域解析/多IP等功能</li>\\n</ul>","autoDesc":true}`);export{D as comp,A as data};
