import{_ as h,c as p,a as t,b as i,d as a,e as l,f as e,r as k,o as r}from"./app-C6C2gOc0.js";const d="/assets/images/nas/jellyfin/j-1.png",y="/assets/images/nas/jellyfin/j-2.png",g="/assets/images/nas/jellyfin/j-3.png",o="/assets/images/nas/jellyfin/j-4.png",c={},A={class:"hint-container tip"};function F(m,s){const n=k("RouteLink");return r(),p("div",null,[s[17]||(s[17]=t('<p>Jellyfin是一款<strong>免费的影音服务器</strong>，支持通过Web直接播放，同时提供<strong>Android App客户端</strong>、<strong>iOS App客户端</strong>以及<strong>安卓TV客户端</strong>，方便用户管理自己的影音资源并在任何设备上进行观看，功能非常强大。</p><figure><img src="'+d+`" alt="Web客户端海报墙" tabindex="0" loading="lazy"><figcaption>Web客户端海报墙</figcaption></figure><h2 id="🛠️-jellyfin安装docker-compose配置" tabindex="-1"><a class="header-anchor" href="#🛠️-jellyfin安装docker-compose配置"><span>🛠️ Jellyfin安装Docker Compose配置</span></a></h2><p>以下是Jellyfin的Docker Compose安装配置示例：</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;3.8&#39;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">volumes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  jellyfin_config</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  jellyfin_cache</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">services</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> jellyfin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">   image</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">nyanmisaka/jellyfin:latest</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">   container_name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">jellyfin</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">   hostname</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">jellyfin</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">   restart</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">always</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">   environment</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">TZ=Asia/Shanghai</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">NVIDIA_DRIVER_CAPABILITIES=all</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">NVIDIA_VISIBLE_DEVICES=all</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">   network_mode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">host</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">   volumes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">jellyfin_config:/config</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">jellyfin_cache:/cache</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/mnt/data_hdd:/data_hdd</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 该映射是影音文件存储位置，可根据实际情况调整</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/mnt/nas1_smb:/nas1_smb</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 该映射是影音文件存储位置，可根据实际情况调整</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/dev:/dev</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">   runtime</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">nvidia</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">   deploy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">     resources</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">       reservations</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">         devices</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">           - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">capabilities</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">             - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">gpu</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>Jellyfin的Docker镜像有许多修改版本，此处选择了<code>nyanmisaka/jellyfin</code>，该镜像支持Web串流H265格式的影片。</p></div><p>创建了两个volume，分别为<code>jellyfin_config</code>和<code>jellyfin_cache</code>，用于存储Jellyfin自身的配置文件。</p><p>该Docker Compose文件有几个特别之处：</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">- </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">NVIDIA_DRIVER_CAPABILITIES=all</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">- </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">NVIDIA_VISIBLE_DEVICES=all</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>与最后的</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">deploy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">     resources</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">       reservations</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">         devices</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">           - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">capabilities</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">             - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">gpu</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使该镜像能够调用宿主机上的NVIDIA显卡（例如，搭载NVIDIA GTX 1060显卡的笔记本电脑），从而更好地完成编码与解码工作。若NAS没有搭载N卡，则可以移除上述内容，镜像仍然能够使用CPU的核显进行编解码工作。若NAS不自带任何显卡，则不推荐在该NAS上部署Jellyfin，以免影响后续的影音观看体验。</p>`,12)),i("p",null,[s[1]||(s[1]=a("推荐在客户端上安装")),s[2]||(s[2]=i("strong",null,"Infuse",-1)),s[3]||(s[3]=a("等支持多种影片格式的播放器，结合之前的")),l(n,{to:"/nas/basic/6-samba.html"},{default:e(()=>s[0]||(s[0]=[i("strong",null,"Samba文件共享服务",-1)])),_:1}),s[4]||(s[4]=a("，让客户端能够访问到NAS中存储的影片进行直接播放。注意：如影片质量较高（例如4K高码率），建议在内网下进行播放，以确保流畅度，因为此时客户端播放器相当于直接下载服务器源文件，无法调整画质，观看体验会受到服务器性能的影响。"))]),i("p",null,[s[6]||(s[6]=a("关于Jellyfin编码与解码的详细内容，请参考")),l(n,{to:"/nas/jellyfin-encode-decode.html"},{default:e(()=>s[5]||(s[5]=[i("strong",null,"Jellyfin编码与解码",-1)])),_:1}),s[7]||(s[7]=a("。"))]),i("p",null,[s[9]||(s[9]=a("成功部署镜像后，访问")),s[10]||(s[10]=i("code",null,"https://NASIP:8096",-1)),s[11]||(s[11]=a("即可访问Jellyfin服务。初次访问需要设置语言、管理员账号密码等信息。元数据刮削等设置可保持默认即可，该部分功能将在")),l(n,{to:"/nas/basic/10-movie-pilot.html"},{default:e(()=>s[8]||(s[8]=[i("strong",null,"Moviepilot",-1)])),_:1}),s[12]||(s[12]=a("中实现。"))]),i("div",A,[s[16]||(s[16]=i("p",{class:"hint-container-title"},"提示",-1)),i("p",null,[s[14]||(s[14]=a("安装完后可以先不进行下列设置，直接跳转到")),l(n,{to:"/nas/basic/10-movie-pilot.html"},{default:e(()=>s[13]||(s[13]=[i("strong",null,"Moviepilot",-1)])),_:1}),s[15]||(s[15]=a("进行部署与配置，然后再回来进行媒体库相关的配置。"))])]),s[18]||(s[18]=t('<h2 id="📂-添加媒体库" tabindex="-1"><a class="header-anchor" href="#📂-添加媒体库"><span>📂 添加媒体库</span></a></h2><ol><li><p>点击左上角 -&gt; 控制台 -&gt; 媒体库 -&gt; 点击添加媒体库：</p><figure><img src="'+y+'" alt="Jellyfin 添加媒体库" tabindex="0" loading="lazy"><figcaption>Jellyfin 添加媒体库</figcaption></figure></li><li><p>选择内容类型。若类型为<code>电影</code>，则该文件夹中保存的即为电影类型的资源。对于电视剧、综艺、动漫等多季（Season）、多集（Ep）的媒体资源，在创建媒体库时统一选择<code>电视剧</code>类型。</p><figure><img src="'+g+'" alt="Jellyfin 媒体库类型" tabindex="0" loading="lazy"><figcaption>Jellyfin 媒体库类型</figcaption></figure></li><li><p>添加媒体库文件夹。选择对应类型的媒体资源存放的文件夹（此处选择的文件夹是容器内的位置，需确保容器外影音资源的存储位置已成功映射到容器内）。每个媒体库可添加多个文件夹。</p></li></ol><p>其他设置保持默认即可，无需关心Jellyfin本身的刮削功能，因其效果不佳。保存后可点击扫描媒体库立即刷新媒体资源。</p><h2 id="⚙️-设置硬件转码" tabindex="-1"><a class="header-anchor" href="#⚙️-设置硬件转码"><span>⚙️ 设置硬件转码</span></a></h2><ol><li>点击左上角 -&gt; 控制台 -&gt; 播放 -&gt; 转码：</li></ol><p>根据显卡类型选择对应转码方式，N卡选择Nvidia NVENC，Intel核显选择QSV，AMD核显选择V4L2，其他的ARM CPU（如树莓派等）可选择V4L2。下方的转码勾选可以自行搜索支持的转码类型进行勾选。选择完后滚动到最下方选择保存。</p><figure><img src="'+o+`" alt="Jellyfin 转码配置" tabindex="0" loading="lazy"><figcaption>Jellyfin 转码配置</figcaption></figure><p>通过以上步骤，Jellyfin的设置将更加完整，确保最佳的影音体验！🌟</p><h2 id="nginx配置" tabindex="-1"><a class="header-anchor" href="#nginx配置"><span>Nginx配置</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    listen</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1212</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ssl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">## 外网访问端口</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    server_name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> jellyfin.domain.com</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">## 自定义jellyfin二级域名</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    client_max_body_size</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 20M</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">    set</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $jellyfin</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 127.0.0.1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    ssl_certificate</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/letsencrypt/live/domain.com/fullchain.pem</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    ssl_certificate_key</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/letsencrypt/live/domain.com/privkey.pem</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">## 配置证书地址</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    add_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> X-Frame-Options</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;SAMEORIGIN&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    add_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> X-XSS-Protection</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;0&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    add_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> X-Content-Type-Options</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;nosniff&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    add_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Cross-Origin-Opener-Policy</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;same-origin&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> always</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    add_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Cross-Origin-Embedder-Policy</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;require-corp&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> always</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    add_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Cross-Origin-Resource-Policy</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;same-origin&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> always</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    add_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Permissions-Policy</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;accelerometer=(), ambient-light-sensor=(), battery=(), bluetooth=(), camera=(), clipboard-read=(), display-capture=(), document-domain=(), encrypted-media=(), gamepad=(), geolocation=(), gyroscope=(), hid=(), idle-detection=(), interest-cohort=(), keyboard-map=(), local-fonts=(), magnetometer=(), microphone=(), payment=(), publickey-credentials-get=(), serial=(), sync-xhr=(), usb=(), xr-spatial-tracking=()&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> always</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    add_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Origin-Agent-Cluster</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;?1&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> always</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    location</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 302</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$host</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">:1212/web/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">## 别忘了修改外网访问端口</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    location</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # Proxy main Jellyfin traffic</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_pass</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http://</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$jellyfin</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">:8096</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_set_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Host</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $host</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_set_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> X-Real-IP</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $remote_addr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_set_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> X-Forwarded-For</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $proxy_add_x_forwarded_for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_set_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> X-Forwarded-Proto</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $scheme</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_set_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> X-Forwarded-Protocol</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $scheme</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_set_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> X-Forwarded-Host</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $http_host</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_buffering</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> off</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    location</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /web/</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_pass</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http://</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$jellyfin</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">:8096/web/index.html</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_set_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Host</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $host</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_set_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> X-Real-IP</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $remote_addr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_set_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> X-Forwarded-For</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $proxy_add_x_forwarded_for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_set_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> X-Forwarded-Proto</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $scheme</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_set_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> X-Forwarded-Protocol</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $scheme</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_set_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> X-Forwarded-Host</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $http_host</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    location</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /socket</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_pass</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http://</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$jellyfin</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">:8096</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_http_version</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1.1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_set_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Upgrade</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $http_upgrade</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_set_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Connection</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;upgrade&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_set_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Host</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $host</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_set_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> X-Real-IP</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $remote_addr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_set_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> X-Forwarded-For</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $proxy_add_x_forwarded_for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_set_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> X-Forwarded-Proto</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $scheme</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_set_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> X-Forwarded-Protocol</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $scheme</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_set_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> X-Forwarded-Host</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $http_host</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,10))])}const v=h(c,[["render",F],["__file","8-jellyfin.html.vue"]]),u=JSON.parse(`{"path":"/nas/basic/8-jellyfin.html","title":"Jellyfin 媒体服务器","lang":"zh-CN","frontmatter":{"title":"Jellyfin 媒体服务器","order":8,"isOriginal":true,"category":["NAS"],"tag":["jellyfin","docker"],"description":"Jellyfin是一款免费的影音服务器，支持通过Web直接播放，同时提供Android App客户端、iOS App客户端以及安卓TV客户端，方便用户管理自己的影音资源并在任何设备上进行观看，功能非常强大。 Web客户端海报墙Web客户端海报墙 🛠️ Jellyfin安装Docker Compose配置 以下是Jellyfin的Docker Comp...","head":[["meta",{"property":"og:url","content":"https://jayczee.cn/nas/basic/8-jellyfin.html"}],["meta",{"property":"og:site_name","content":"Jayczee's Blog"}],["meta",{"property":"og:title","content":"Jellyfin 媒体服务器"}],["meta",{"property":"og:description","content":"Jellyfin是一款免费的影音服务器，支持通过Web直接播放，同时提供Android App客户端、iOS App客户端以及安卓TV客户端，方便用户管理自己的影音资源并在任何设备上进行观看，功能非常强大。 Web客户端海报墙Web客户端海报墙 🛠️ Jellyfin安装Docker Compose配置 以下是Jellyfin的Docker Comp..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://jayczee.cn/assets/images/nas/jellyfin/j-1.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-01-20T07:37:31.000Z"}],["meta",{"property":"article:tag","content":"jellyfin"}],["meta",{"property":"article:tag","content":"docker"}],["meta",{"property":"article:modified_time","content":"2025-01-20T07:37:31.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Jellyfin 媒体服务器\\",\\"image\\":[\\"https://jayczee.cn/assets/images/nas/jellyfin/j-1.png\\",\\"https://jayczee.cn/assets/images/nas/jellyfin/j-2.png\\",\\"https://jayczee.cn/assets/images/nas/jellyfin/j-3.png\\",\\"https://jayczee.cn/assets/images/nas/jellyfin/j-4.png\\"],\\"dateModified\\":\\"2025-01-20T07:37:31.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Jayczee\\",\\"url\\":\\"https://jayczee.cn\\"}]}"]]},"headers":[{"level":2,"title":"🛠️ Jellyfin安装Docker Compose配置","slug":"🛠️-jellyfin安装docker-compose配置","link":"#🛠️-jellyfin安装docker-compose配置","children":[]},{"level":2,"title":"📂 添加媒体库","slug":"📂-添加媒体库","link":"#📂-添加媒体库","children":[]},{"level":2,"title":"⚙️ 设置硬件转码","slug":"⚙️-设置硬件转码","link":"#⚙️-设置硬件转码","children":[]},{"level":2,"title":"Nginx配置","slug":"nginx配置","link":"#nginx配置","children":[]}],"git":{"createdTime":1736491706000,"updatedTime":1737358651000,"contributors":[{"name":"Jayczee","username":"Jayczee","email":"jayczee@yeah.net","commits":5,"url":"https://github.com/Jayczee"}]},"readingTime":{"minutes":4.37,"words":1312},"filePathRelative":"nas/basic/8-jellyfin.md","localizedDate":"2025年1月10日","excerpt":"<p>Jellyfin是一款<strong>免费的影音服务器</strong>，支持通过Web直接播放，同时提供<strong>Android App客户端</strong>、<strong>iOS App客户端</strong>以及<strong>安卓TV客户端</strong>，方便用户管理自己的影音资源并在任何设备上进行观看，功能非常强大。</p>\\n<figure><img src=\\"/assets/images/nas/jellyfin/j-1.png\\" alt=\\"Web客户端海报墙\\" tabindex=\\"0\\" loading=\\"lazy\\"><figcaption>Web客户端海报墙</figcaption></figure>","autoDesc":true}`);export{v as comp,u as data};
